<div ng:controller="Texts">
	<h2>Your current texts:
		<button type="submit" class="right" ng:click="add()">more!</button>
	</h2>
	<div class="clear"></div>

	<ul id="texts">
		<div ng:hide="loaded">
			loading...
		</div>
		<div id="ngtexts" ng:repeat="text in items" style="display:none">
			<li ng:controller="TextController" class="text {{text.state()}}">
				<form action="javascript:return saveAll()">
					<div class="right">
						<div class="throb" ng:hide="!text.inProgress">&nbsp;</div>
						<button class="save" disabled="{{text.isClean()}}" ng:click="text.save()" class="save">save</button>
						<button class="delete" ng:click="remove(text)" value="X">X</button>
					</div>
					<button ng:click="text.toggleExpanded(this)">+</button>

					<input type="text" class="title" name="text.form.title"/>
					<tc:expando show="text.form.expanded">
						<textarea name="text.form.content" rows="{{text.rows()}}"></textarea>
					</tc:expando>
				</form>

			</li>
		</div>
	</ul>

	<div ng:hide="!debug">
		<pre>{{items.length}} texts</pre>
		<pre>texts.items={{ texts.items}}</pre>
	</div>
</div>

